<div class="map full" ng-controller="MapController">

  <style ng-bind-html="state.mapStyles"></style>

  <div class="legendwrapper" ng-click="toggleMapLegend();">
    <div class="legend">
      <div
        ng-repeat="c in meta.mapcredits"
        ng-if="!c.hide"
        class="credit hint--left"
        style="border-left: 5px solid #{{c.color}};"
        ng-click="toggleMapLegend(c); $event.stopPropagation();"
        ng-class="{
          odd:$index%2==1,
          active: c.active
        }"
        data-hint="{{c.description}}">
        <!--<img
          class="marker"
          src="https://api.tiles.mapbox.com/v3/marker/pin-s-circle+{{c.color}}.png">-->
        <div class="count">{{c.count}}</div>
        <div class="name">
          {{c.name}} <a href="{{c.url}}" target="_blank"><i ng-if="c.slug!='misc'" class="fa fa-external-link-square"></i></a>
        </div>
      </div>
    </div>
  </div>
  
  <div class="jumps">
    <div
      ng-repeat="c in meta.mapjumps"
      ng-click="mapJumpTo(c);"
      class="jump"
      ng-class="{
        global: c.zoom<10
      }">
        {{c.name}}
    </div>
  </div>

  <div id="leaflet" height="100%" width="100%"></div>
</div>
